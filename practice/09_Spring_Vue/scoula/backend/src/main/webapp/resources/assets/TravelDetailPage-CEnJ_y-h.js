import{_ as y,b as c,d as l,t as v,o as u,a as m,q as _,F as f,p as b,r as T,j as p,e as g,k as x,B as w,T as M,i as q,h as $}from"./index-B2mbVShX.js";import{a as C}from"./travelApi-tZOveHQq.js";import"./index-CteSuDfc.js";const I={class:"align-content-center"},K={__name:"TravelHeader",props:{travel:{Type:Object,required:!0}},setup(n){const s=n;console.log(s.travel.images);const a={backgroundImage:`url('${s.travel.images[0].url}')`};return(o,e)=>(u(),c("div",{class:"travel-header mb-4 d-flex justify-content-center",style:a},[l("h1",I," ["+v(n.travel.district)+"] "+v(n.travel.title),1)]))}},L=y(K,[["__scopeId","data-v-68a07ce0"]]),S={class:"w-100 my-4"},B=["src"],H={class:"d-flext"},O=["src","onClick"],j={__name:"TravelImages",props:{images:{Type:Array,required:!0}},setup(n){const s=n;console.log(s.images);let a=m(s.images[0].url);const o=e=>{console.log(e,s.images[e].url),a.value=s.images[e].url};return(e,i)=>(u(),c("div",S,[l("img",{src:_(a),style:{width:"100%",height:"400px"}},null,8,B),l("div",H,[(u(!0),c(f,null,b(n.images,(d,r)=>(u(),c("div",{class:"flex-fill",key:d.no},[l("img",{class:"thumbnail",src:d.url,style:{width:"100%"},height:"100px",onClick:t=>o(r)},null,8,O)]))),128))])]))}},N=y(j,[["__scopeId","data-v-8b177907"]]),R={__name:"TravelMap",props:{title:{Type:String,required:!0},address:{Type:String,required:!0}},setup(n){const s=n,a=T({lat:37.566826,lng:126.9786567}),o=m(),e=r=>{o.value=r,new kakao.maps.services.Geocoder().addressSearch(s.address,(k,h)=>{h===kakao.maps.services.Status.OK&&(a.lat=k[0].y,a.lng=k[0].x)})},i=m(!1),d=()=>{i.value=!i.value};return(r,t)=>(u(),c(f,null,[l("div",null,[t[0]||(t[0]=l("i",{class:"fa-solid fa-map-location-dot"},null,-1)),g(" "+v(n.address),1)]),p(_(M),{lat:a.lat,lng:a.lng,level:3,draggable:!0,style:{width:"100%"},onOnLoadKakaoMap:e},{default:x(()=>[p(_(w),{lat:a.lat,lng:a.lng,infoWindow:{content:n.title,visible:i.value},clickable:!0,onOnClickKakaoMapMarker:d},null,8,["lat","lng","infoWindow"]),t[1]||(t[1]=g(" /> "))]),_:1,__:[1]},8,["lat","lng"])],64))}},V=["innerHTML"],A={__name:"TravelDetailPage",setup(n){const s=q(),a=$(),o=s.params.no,e=m({}),i=()=>{a.push({name:"travel/list",query:s.query})};return(async()=>{e.value=await C.get(o);let r=e.value.description.replace(/\. /gm,t=>t+"<p/><p>");e.value.description=`<p>${r}</p>`})(),(r,t)=>(u(),c(f,null,[p(L,{travel:e.value},null,8,["travel"]),l("div",{class:"content",innerHTML:e.value.description},null,8,V),p(N,{images:e.value.images},null,8,["images"]),l("div",null,[t[0]||(t[0]=l("i",{class:"fa-solid fa-square-phone-flip"},null,-1)),g(" 전화번호: "+v(e.value.phone),1)]),p(R,{title:e.value.title,address:e.value.address},null,8,["title","address"]),l("div",{class:"my-5"},[l("button",{class:"btn btn-primary me-2",onClick:i},t[1]||(t[1]=[l("i",{class:"fa-solid fa-list"},null,-1),g(" 목록 ")]))])],64))}};export{A as default};
